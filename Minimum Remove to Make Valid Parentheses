class Solution:
    def minRemoveToMakeValid(self, s: str) -> str:

        # stack = []
        # for i in range(len(s)):
        #     if s[i] == "(":
        #         stack.append((s[i],i))
        #     elif s[i] == ")":
        #         if stack and stack[-1][0] == "(":
        #             stack.pop()
        #         else :
        #             stack.append((s[i],i))
        # while stack :
        #     ind = stack.pop()
        #     s = s[:ind[1]]+s[ind[1]+1:]
        # return s

        res = []
        open_cnt = 0

        for ch in s:
            if ch == "(":
                open_cnt+=1
                res.append(ch)
            elif ch == ")":
                if open_cnt > 0:
                    open_cnt-=1
                    res.append(ch)
            else :
                res.append(ch)
        final = []
        for ch in reversed(res):
            if ch == "(" and open_cnt > 0:
                open_cnt-=1
            else :
                final.append(ch)
        return "".join(reversed(final))

        
